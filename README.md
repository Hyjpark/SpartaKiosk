# CH 키오스크 과제

## 목표
>- 키오스크 시스템을 구현하며 **객체 지향 설계 능력**을 강화
>- 단순한 기능 구현을 넘어서 **클래스 간 책임 분리와 협력 구조 설계**
>- Java의 주요 문법(클래스, Enum, 람다, 스트림 등)을 실전에서 활용

### 필수 과제 (Lv1 ~ Lv5)
- Lv 1. 기본적인 키오스크 프로그래밍
(Scanner를 활용한 입력, 반복문과 조건문을 활용한 입력 처리)

- Lv2. 객체 지향 설계를 적용한 햄버거 메뉴의 클래스 관리
(클래스에 요구사항에 따른 필드값이 존재하는가, List와 new 키워드를 활용했는가)

- Lv3. 객체 지향 설계를 적용한 순서 제어의 클래스 관리
(Kiosk 클래스 생성 및 활용, start 메서드 활용한 입/출력 및 종료 흐름 처리)

- Lv 4. 객체 지향 설계를 적용한 음식 메뉴와 주문 내역의 클래스 기반 관리
(Menu 클래스를 활용한 메뉴 카테고리 관리 및 MenuItem 리스트 포함 여부, 메뉴 카테고리 이름을 반환하는 메서드 구현 여부)

- Lv 5. 캡슐화 적용
(접근 제한자 활용, Getter/Setter를 활용해 데이터에 접근 여부)

### 도전 과제 (Lv1 ~ Lv2)
- Lv 1. 장바구니 및 구매하기 기능 추가
(장바구니 기능 추가 여부, 주문 흐름이 동작하는가, 잘못된 입력값에 대한 예외처리 여부)

- Lv 2. Enum, 람다 & 스트림을 활용한 주문 및 장바구니 관리
(Enum을 활용한 사용자 유형별 할인율 관리 여부, 람다/스트림을 활용한 장바구니 조회 기능 여부)

---

## 프로젝트 구조
```bash
com.example.kiosk
├── Main.java                    # 프로그램 진입점
├── Kiosk.java                   # 프로그램 흐름 제어
├── ActionResult.java           # 키오스크 실행 상태 enum
├── Cart.java                   # 장바구니 관리 (제네릭)
├── CartItem.java               # 장바구니 항목 포장 클래스
├── DiscountMenuView.java      # 할인 메뉴 출력
├── DiscountPolicy.java        # 할인 정책 인터페이스
├── DiscountRate.java          # 사용자 유형별 할인 enum
├── ItemDetails.java           # 메뉴 아이템 정보 인터페이스
├── Menu.java                  # 메뉴 카테고리 및 항목 출력
├── MenuItem.java              # 개별 음식 항목
└── OrderMenu.java             # 주문 관련 메뉴 출력
```
## 클래스 설명
| 클래스/인터페이스              | 설명                                                                           |
| ---------------------- | ---------------------------------------------------------------------------- |
| **`Main`**             | 키오스크 프로그램의 시작점으로, 메뉴 구성과 Kiosk 실행을 담당합니다.                                    |
| **`Kiosk`**            | 사용자 입력을 받아 프로그램 흐름을 제어하며, 메뉴 출력, 주문, 할인 등을 처리합니다.                            |
| **`ItemDetails`** (interface)    | 메뉴 항목이 공통으로 가져야 할 정보(이름, 가격, 설명)를 정의하는 인터페이스입니다.                             |
| **`MenuItem`**         | 개별 음식 항목을 나타내며, 이름, 가격, 설명 정보를 보유합니다.                                        |
| **`Menu`**             | 메뉴 카테고리 및 해당 카테고리에 속한 항목들을 관리하고 출력합니다.                                       |
| **`CartItem<T>`**      | 장바구니에 담긴 개별 항목을 감싸는 래퍼 클래스로, 내부 아이템 정보를 제공합니다.                               |
| **`Cart<T>`**          | 장바구니 전체를 관리하며, 항목 추가, 제거, 총액 계산 및 할인 적용 기능을 제공합니다.                           |
| **`OrderMenu`**        | “주문”, “주문 취소” 기능의 메뉴 번호를 계산하고 화면에 출력합니다.                                     |
| **`DiscountMenuView`** | 사용자에게 보여질 할인 메뉴를 포맷팅하여 출력 문자열로 제공합니다.                                        |
| **`DiscountPolicy`** (interface)  | 할인 정책의 공통 동작인 `applyDiscount()` 메서드를 정의한 인터페이스입니다.                           |
| **`DiscountRate`** (enum)    | 사용자 유형별 할인율(예: 국가유공자 10%)을 정의하며, 할인 계산 로직도 포함합니다.                            |
| **`ActionResult`** (enum)    | 키오스크 동작 흐름의 상태를 나타내며, `CONTINUE`, `RETURN_TO_MENU`, `EXIT_PROGRAM` 상태가 있습니다. |

---

## 단계별 구현 요약
### Lv1. 기본적인 키오스크 프로그래밍
- `Scanner`를 활용해 햄버거 메뉴 정보를 2차원 배열에 저장하고 콘솔에 출력
- `while` 반복문과 `switch-case` 조건문으로 메뉴 선택과 프로그램 종료 흐름 제어
- 사용자 입력한 번호에 따라 해당 메뉴 상세 출력
- 0 입력 시 프로그램 종료

**사용 문법**
`배열`, `반복문`, `조건문`, `입출력`

---

### Lv2. 클래스를 활용한 키오스크 메뉴 관리  
- `MenuItem` 클래스를 생성해 개별 메뉴(햄버거) 정보를 객체로 관리  
- `List<MenuItem>`으로 메뉴 목록을 저장하고 반복문으로 출력  
- 사용자 입력에 따라 해당 메뉴 객체 정보를 출력  
- `StringBuilder`로 메뉴 문자열 생성, `switch-case` 중복 case 통합으로 코드 간결화  

**사용 문법**  
`클래스`, `객체`, `리스트`, `반복문`, `입출력`, `조건문`  

---

### Lv3. Kiosk 클래스를 활용한 프로그램 흐름 제어  
- `Kiosk` 클래스를 새로 만들어 메뉴 출력과 사용자 입력 흐름을 책임지도록 분리  
- `Main` 클래스는 `Kiosk` 객체 생성과 `start()` 호출만 담당  
- 메뉴 데이터를 `List<List<String>>` 형태로 초기화 후, `MenuItem` 객체 리스트로 변환하여 관리  
- `start()` 메서드에서 메뉴 출력, 사용자 입력, 메뉴 선택 또는 종료를 반복 수행  
- 잘못된 메뉴 입력 시 예외 처리하여 오류 메시지 출력  

**사용 문법**  
`클래스 분리`, `예외 처리`, `List 컬렉션`, `객체 지향 흐름 제어`, `문자열 처리`

---

### Lv4. Menu 클래스를 도입한 메뉴 카테고리 및 항목 관리  
- `Menu` 클래스를 만들어 하나의 메뉴 카테고리(예: Burgers)를 관리  
- `Menu` 클래스는 카테고리 이름과 `List<MenuItem>`을 필드로 가짐  
- `Kiosk` 클래스는 여러 `Menu` 객체를 관리하며, 상위 카테고리 메뉴 출력 및 선택 흐름 제어  
- `Menu`는 메뉴 항목 리스트 출력과 카테고리 이름 반환 메서드 구현  
- 사용자 입력에 따라 카테고리별 메뉴 항목을 보여주고 선택된 메뉴 정보를 출력  

**사용 문법**  
`객체지향 설계`, `클래스 분리`, `컬렉션(List)`, `예외 처리`, `입출력`, `조건문`, `반복문`

---

### Lv5. 캡슐화 적용 및 예외 처리 강화  
- `MenuItem`, `Menu`, `Kiosk` 클래스 필드를 `private`로 설정하여 직접 접근 차단  
- Getter 메서드로 안전하게 데이터 접근  
- `Menu` 클래스는 카테고리명과 메뉴 항목 리스트를 생성자에서 초기화하며 외부 수정 제한  
- `Kiosk` 클래스는 하드코딩된 `switch-case` 대신 동적 범위 검사로 메뉴 선택 유효성 검증  
- 사용자 입력은 `nextLine()` + `Integer.parseInt()` 조합으로 처리해 입력 안정성 강화  
- `NumberFormatException`, `IndexOutOfBoundsException` 예외 처리 추가로 잘못된 입력에 대해 명확한 안내 메시지 출력  

**사용 문법**  
`캡슐화`, `예외 처리`, `컬렉션`, `입출력`, `조건문`, `반복문`, `객체지향 설계`  

---

### 도전 Lv1. 장바구니 기능 및 주문 처리 구현
- `CartItem` 클래스를 도입하여 장바구니 내 메뉴 데이터를 객체 단위로 관리  
- `Cart` 클래스는 `List<CartItem>`을 통해 장바구니 항목을 저장하고, 출력 및 총액 계산 메서드 제공  
- 사용자가 메뉴를 선택하면 장바구니에 담을지 여부를 확인한 뒤, 선택 시 추가  
- 주문 메뉴는 `OrderMenu` 클래스로 분리해 장바구니가 비어있지 않을 때만 출력  
- 장바구니 금액은 `BigDecimal`을 사용하여 정확하게 계산하고 출력  
- 예외 상황(잘못된 번호 입력 등)은 `IndexOutOfBoundsException`, `IllegalArgumentException` 등으로 처리  
- 주문이 완료되면 총액을 출력하고 장바구니 초기화

**사용 문법**  
`클래스`, `컬렉션`, `객체 간 연계`, `캡슐화`, `입출력`, `예외 처리`, `BigDecimal`, `조건문`, `반복문`

---

### 도전 Lv2. Enum과 Stream을 활용한 고급 기능 구현
- **Enum 기반 할인 정책 설계**
  - `DiscountPolicy` 인터페이스로 할인 정책 구조화  
  - `DiscountRate` Enum에서 사용자 유형(국가유공자, 군인, 학생, 일반)에 따라 할인율 적용
  - `Cart`는 외부에서 전달된 할인 정책을 받아 할인 금액만 계산, 책임 분리  
  - `Kiosk`는 사용자 입력을 받아 할인 정책 선택 및 흐름 제어
  
- **ActionResult Enum을 활용한 흐름 제어 개선**
  - `CONTINUE`, `RETURN_TO_MENU`, `EXIT_PROGRAM` 등 명확한 상태 값으로 사용자 입력 흐름 제어  
  - 기존 `boolean` 반환 흐름을 `enum`으로 치환해 가독성과 유지보수성 향상
  - 
- **Stream API를 활용한 메뉴 출력 및 장바구니 관리**
  - 메뉴 출력에 `IntStream.range()` 사용하여 인덱스 포함한 출력 구현
  - 장바구니 중복 메뉴 제거 시 `removeIf()` 메서드에 람다식 적용하여 코드 간결화

**사용 문법**  
`Enum`, `인터페이스`, `스트림 API`, `람다`, `컬렉션`, `캡슐화`, `조건문`, `입출력`, `BigDecimal`, `예외 처리`

---

### 키오스크 구조 리팩토링 및 장바구니 제네릭 적용
- Kiosk의 입력 처리, 메뉴 흐름 제어, 출력 책임을 메서드 단위로 분리하고 명확한 책임 구조로 개선  
- Cart에 제네릭을 적용하고, `ItemDetails` 인터페이스를 도입해 유연성과 재사용성을 높임  
- 메뉴 출력/주문/장바구니 로직에 역할 분리 원칙 적용하여 유지보수성과 가독성 향상  

**사용 문법**  
`메서드 추출`, `접근 제어자`, `예외 처리`, `인터페이스`, `제네릭`, `String.format`, `List`, `캡슐화`

---

### 실행 예시
```bash

[ MAIN MENU ]
1. Burgers
2. Drinks
3. Desserts
0. 종료 	| 종료
1

[ BURGERS MENU ]
1. ShackBurger  | W 6.9 | 토마토, 양상추, 쉑소스가 토핑된 치즈버거
2. SmokeShack   | W 8.9 | 베이컨, 체리 페퍼에 쉑소스가 토핑된 치즈버거
3. Cheeseburger | W 6.9 | 포테이토 번과 비프패티, 치즈가 토핑된 치즈버거
4. Hamburger    | W 5.4 | 비프패티를 기반으로 야채가 들어간 기본버거
0. 뒤로가기
2

"SmokeShack | W 8.9 | 베이컨, 체리 페퍼에 쉑소스가 토핑된 치즈버거"
위 메뉴를 장바구니에 추가하시겠습니까?
1. 확인 	 2. 취소
1
SmokeShack가 장바구니에 추가되었습니다.

[ MAIN MENU ]
1. Burgers
2. Drinks
3. Desserts
0. 종료 	| 종료

[ ORDER MENU ]
4. Orders   | 장바구니를 확인 후 주문합니다.
5. Cancel   | 진행중인 주문을 취소합니다.
2

[ DRINKS MENU ]
1. Coke         | W 4.0 | 탄산이 톡톡쏘는 콜라
2. VanillaShake | W 5.3 | 바닐라닐라 쉐이크
0. 뒤로가기
1

"Coke | W 4.0 | 탄산이 톡톡쏘는 콜라"
위 메뉴를 장바구니에 추가하시겠습니까?
1. 확인 	 2. 취소
1
Coke가 장바구니에 추가되었습니다.

[ MAIN MENU ]
1. Burgers
2. Drinks
3. Desserts
0. 종료 	| 종료

[ ORDER MENU ]
4. Orders   | 장바구니를 확인 후 주문합니다.
5. Cancel   | 진행중인 주문을 취소합니다.
4

아래와 같이 주문 하시겠습니까?

[ Orders ]
SmokeShack | W 8.9 | 베이컨, 체리 페퍼에 쉑소스가 토핑된 치즈버거
Coke | W 4.0 | 탄산이 톡톡쏘는 콜라

[ Total ]
W 12.9

1. 주문		2. 메뉴판
1

할인 정보를 입력해주세요.
1. 국가유공자 : 10%
2. 군인 : 5%
3. 학생 : 3%
4. 일반 : 0%

3
주문이 완료되었습니다. 금액은 W 12.513입니다.

[ MAIN MENU ]
1. Burgers
2. Drinks
3. Desserts
0. 종료 	| 종료
0
프로그램을 종료합니다.

```
